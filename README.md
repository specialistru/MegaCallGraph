### üìò –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–±–æ—Ç–µ —Å MegaCallGraph

**–ß–∞—Å—Ç—å 1. –í–≤–µ–¥–µ–Ω–∏–µ –∏ –±–∞–∑–æ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã**

* –ß—Ç–æ —Ç–∞–∫–æ–µ MegaCallGraph, –∑–∞—á–µ–º –Ω—É–∂–µ–Ω.
* –¶–µ–ª–∏ –∏ –∑–∞–¥–∞—á–∏: –∞–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, –ø–æ–∏—Å–∫ —Ü–∏–∫–ª–æ–≤, –æ—Ü–µ–Ω–∫–∞ –º–æ–¥—É–ª–µ–π.
* –£—Ä–æ–≤–Ω–∏ –∞–Ω–∞–ª–∏–∑–∞: –ø—Ä–æ–µ–∫—Ç ‚Üí –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞ ‚Üí –º–æ–¥—É–ª—å ‚Üí —Ñ—É–Ω–∫—Ü–∏—è.
* –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ —Å–±–æ—Ä–∫–∞.
* –ü–µ—Ä–≤—ã–µ —à–∞–≥–∏: –∫–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞ –ø—Ä–æ—Å—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ.

**–ß–∞—Å—Ç—å 2. –û–ø—Ü–∏–∏ –∑–∞–ø—É—Å–∫–∞ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã**

* –ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞–∑–±–æ—Ä CLI-–æ–ø—Ü–∏–π (`--dot`, `--stats`, `--deadcode`, `--thresholds`, `--export-json`, `--filter` –∏ –¥—Ä.).
* –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –æ–ø—Ü–∏–π.
* –ö–∞–∫ —Å–æ–±–∏—Ä–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –≤–∏–¥—ã –≥—Ä–∞—Ñ–æ–≤: include-graph, callgraph, full dependency graph.
* –ü—Ä–∞–∫—Ç–∏–∫–∞: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è `callgraph.dot` –¥–ª—è –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.

**–ß–∞—Å—Ç—å 3. –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**

* –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω `.dot`-—Ñ–∞–π–ª.
* –ß—Ç–æ –æ–∑–Ω–∞—á–∞—é—Ç —É–∑–ª—ã –∏ —Ä—ë–±—Ä–∞.
* –ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏:

  * LOC\_total
  * Files / Functions
  * Tangle%
  * Violations%
  * Coupling / Cohesion
  * Dead code (–Ω–µ–≤—ã–∑–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏).
* –¶–≤–µ—Ç–∞, –ª–µ–≥–µ–Ω–¥—ã –∏ —É—Å–ª–æ–≤–Ω—ã–µ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è.
* –°–æ–≤–µ—Ç—ã –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏.

**–ß–∞—Å—Ç—å 4. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ**

* –ü—Ä–∏–º–µ—Ä –∞–Ω–∞–ª–∏–∑–∞ MegaCallGraph —Å–∞–º–æ–≥–æ —Å–µ–±—è.
* –í—ã—è–≤–ª–µ–Ω–∏–µ —É–∑–∫–∏—Ö –º–µ—Å—Ç (—Ü–∏–∫–ª—ã, —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏).
* –ö–∞–∫ –≥–æ—Ç–æ–≤–∏—Ç—å –æ—Ç—á—ë—Ç—ã –¥–ª—è –∫–æ–º–∞–Ω–¥—ã.
* –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ CI/CD.
* –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞: –∫–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏.
* –§–∏–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏, threshold-–Ω–∞—Å—Ç—Ä–æ–π–∫–∏).

---

**–ß–∞—Å—Ç—å 1. –í–≤–µ–¥–µ–Ω–∏–µ –∏ –±–∞–∑–æ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã**

---

## 1. –ß—Ç–æ —Ç–∞–∫–æ–µ MegaCallGraph

**MegaCallGraph** ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∞–Ω–∞–ª–∏–∑–∞ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞ –Ω–∞ —è–∑—ã–∫–µ **C (C23 —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π)**. –ï–≥–æ –æ—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ ‚Äî **–ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π, –≥—Ä–∞—Ñ–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –º–µ—Ç—Ä–∏–∫ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞**, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥–∞—é—Ç –ø–æ–Ω—è—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞, –Ω–∞–π—Ç–∏ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –º–µ—Å—Ç–∞ –∏ –æ—Ü–µ–Ω–∏—Ç—å —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã.

–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

* üîç –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ `*.c` –∏ `*.h` –≤–æ –≤—Å–µ—Ö –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö.
* üìä –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ **–≥—Ä–∞—Ñ–∞ –≤—ã–∑–æ–≤–æ–≤ (CallGraph)**.
* üìÇ –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ **–≥—Ä–∞—Ñ–∞ –≤–∫–ª—é—á–µ–Ω–∏–π (IncludeGraph)**.
* üìà –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –ø–æ —Ñ—É–Ω–∫—Ü–∏—è–º, –º–æ–¥—É–ª—è–º, –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞–º –∏ –≤—Å–µ–º—É –ø—Ä–æ–µ–∫—Ç—É.
* üßπ –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ **‚Äú–º–µ—Ä—Ç–≤–æ–≥–æ –∫–æ–¥–∞‚Äù** ‚Äî —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∏–≥–¥–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏ –Ω–µ —è–≤–ª—è—é—Ç—Å—è –ø—É–±–ª–∏—á–Ω—ã–º API.
* üé® –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≥—Ä–∞—Ñ–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ **DOT** –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –≤ SVG/PNG.
* ‚öôÔ∏è –ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —É—Ä–æ–≤–Ω–µ–π –∞–Ω–∞–ª–∏–∑–∞: –ø—Ä–æ–µ–∫—Ç ‚Üí –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞ ‚Üí –º–æ–¥—É–ª—å ‚Üí —Ñ—É–Ω–∫—Ü–∏—è.

–ü–æ —Å—É—Ç–∏, MegaCallGraph ‚Äî —ç—Ç–æ **—Ä–µ–Ω—Ç–≥–µ–Ω –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞**, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–≤–∏–¥–µ—Ç—å:

* –≥–¥–µ –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏,
* –≥–¥–µ —Ü–∏–∫–ª—ã –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏,
* –∫–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω—ã –ª–æ–≥–∏–∫–æ–π,
* —Å–∫–æ–ª—å–∫–æ —É –≤–∞—Å ‚Äú–º–µ—Ä—Ç–≤–æ–≥–æ –∫–æ–¥–∞‚Äù.

---

## 2. –ó–∞—á–µ–º –Ω—É–∂–µ–Ω MegaCallGraph

–õ—é–±–æ–π –ø—Ä–æ–µ–∫—Ç –Ω–∞ C (–æ—Å–æ–±–µ–Ω–Ω–æ –±–æ–ª—å—à–æ–π) —Ä–∞–Ω–æ –∏–ª–∏ –ø–æ–∑–¥–Ω–æ —Å—Ç–∞–ª–∫–∏–≤–∞–µ—Ç—Å—è —Å –ø—Ä–æ–±–ª–µ–º–∞–º–∏:

* üîÑ **—Ü–∏–∫–ª—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** (`module A` –∑–∞–≤–∏—Å–∏—Ç –æ—Ç `B`, –∞ `B` –æ—Ç `A`),
* üèóÔ∏è **–º–æ–Ω–æ–ª–∏—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** —Å —Å–æ—Ç–Ω—è–º–∏ —Å—Ç—Ä–æ–∫,
* ‚ùå **–ª–∏—à–Ω–∏–π –∫–æ–¥**, –∫–æ—Ç–æ—Ä—ã–π –Ω–∏–∫—Ç–æ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç,
* üì¶ **—Å–ª–∞–±–∞—è –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** (–º–æ–¥—É–ª–∏ —Å–ª–∏—à–∫–æ–º —Å–≤—è–∑–∞–Ω—ã –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º),
* üß© **–Ω–µ–ø–æ–Ω—è—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**, –∫–æ–≥–¥–∞ —Ç—Ä—É–¥–Ω–æ –æ–±—ä—è—Å–Ω–∏—Ç—å –Ω–æ–≤–∏—á–∫—É, ‚Äú–∫–∞–∫ —Ç—É—Ç –≤—Å—ë —É—Å—Ç—Ä–æ–µ–Ω–æ‚Äù.

MegaCallGraph –ø–æ–º–æ–≥–∞–µ—Ç —Ä–µ—à–∞—Ç—å —ç—Ç–∏ –∑–∞–¥–∞—á–∏:

* –î–ª—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–∞ ‚Üí –ø–æ–Ω—è—Ç—å, –Ω–∞—Å–∫–æ–ª—å–∫–æ **—É—Å—Ç–æ–π—á–∏–≤–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**.
* –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ ‚Üí —É–≤–∏–¥–µ—Ç—å, **–∫–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –µ–≥–æ –º–æ–¥—É–ª—è**.
* –î–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞ ‚Üí –ø–æ–ª—É—á–∏—Ç—å **KPI –ø–æ –∫–∞—á–µ—Å—Ç–≤—É –∫–æ–¥–∞**.
* –î–ª—è –∫–æ–º–∞–Ω–¥—ã ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ —á–µ—Ä–µ–∑ CI/CD.

---

## 3. –£—Ä–æ–≤–Ω–∏ –∞–Ω–∞–ª–∏–∑–∞

MegaCallGraph —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ **—á–µ—Ç—ã—Ä—ë—Ö —É—Ä–æ–≤–Ω—è—Ö**:

### üîπ 1. –£—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞

* –û–±—â–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏:

  * –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤, —Ñ—É–Ω–∫—Ü–∏–π, —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞,
  * –ø—Ä–æ—Ü–µ–Ω—Ç ‚Äú–∑–∞–ø—É—Ç–∞–Ω–Ω—ã—Ö‚Äù —Å–≤—è–∑–µ–π (**Tangle%**),
  * –ø—Ä–æ—Ü–µ–Ω—Ç –Ω–∞—Ä—É—à–µ–Ω–∏–π (**Violations%**).
* –ó–¥–µ—Å—å –≤–∏–¥–Ω–∞ **–æ–±—â–∞—è –∫–∞—Ä—Ç–∏–Ω–∞ –∫–∞—á–µ—Å—Ç–≤–∞**.

### üîπ 2. –£—Ä–æ–≤–µ–Ω—å –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã

* –ü–æ–¥—Å–∏—Å—Ç–µ–º–∞ = –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è.
* –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç **—Å–≤—è–∑–∏ –º–µ–∂–¥—É –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞–º–∏**.
* –ú–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å, –∫–∞–∫–∞—è –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞ ‚Äú—Ç—è–Ω–µ—Ç‚Äù –∑–∞ —Å–æ–±–æ–π –¥—Ä—É–≥–∏–µ.

### üîπ 3. –£—Ä–æ–≤–µ–Ω—å –º–æ–¥—É–ª—è

* –ú–æ–¥—É–ª—å = –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª `.c` / `.h`.
* –ú–µ—Ç—Ä–∏–∫–∏:

  * –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ—É–Ω–∫—Ü–∏–π,
  * —É—Ä–æ–≤–µ–Ω—å —Å–≤—è–∑–Ω–æ—Å—Ç–∏,
  * —Ü–∏–∫–ª—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
* –£–¥–æ–±–Ω–æ –≤—ã—è–≤–ª—è—Ç—å **—Å–ª–∞–±—ã–µ –∏ —Å–∏–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏**.

### üîπ 4. –£—Ä–æ–≤–µ–Ω—å —Ñ—É–Ω–∫—Ü–∏–∏

* –ê–Ω–∞–ª–∏–∑ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π:

  * –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫,
  * —Å–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ —Å–≤—è–∑—è–º,
  * –≤—ã–∑–æ–≤—ã –¥—Ä—É–≥–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π,
  * —è–≤–ª—è–µ—Ç—Å—è –ª–∏ ‚Äúdead code‚Äù.
* –ü–æ–º–æ–≥–∞–µ—Ç –Ω–∞–π—Ç–∏ **–¥–ª–∏–Ω–Ω—ã–µ –∏ –æ–ø–∞—Å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**.

---

## 4. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

MegaCallGraph –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ **C23**. –ß—Ç–æ–±—ã —Å–æ–±—Ä–∞—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

* GCC 14+ –∏–ª–∏ Clang —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π C23.
* `make` –¥–ª—è —Å–±–æ—Ä–∫–∏.
* Graphviz (`dot`) –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è `.dot` ‚Üí `.svg`.

### –°–±–æ—Ä–∫–∞

```bash
cd MegaCallGraph
make
```

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Å–±–æ—Ä–∫–∏ –ø–æ—è–≤–∏—Ç—Å—è –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª:

```
./megacallgraph
```

---

## 5. –ü–µ—Ä–≤—ã–µ —à–∞–≥–∏

### –ó–∞–ø—É—Å–∫ –∞–Ω–∞–ª–∏–∑–∞ –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

```bash
./megacallgraph ./src
```

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç:

* –ø—Ä–æ—Å–∫–∞–Ω–∏—Ä—É–µ—Ç –≤—Å–µ `*.c` –∏ `*.h`,
* —Å–æ–±–µ—Ä—ë—Ç –≥—Ä–∞—Ñ –≤—ã–∑–æ–≤–æ–≤,
* –≤—ã–≤–µ–¥–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ –∫–æ–Ω—Å–æ–ª—å.

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è DOT-–≥—Ä–∞—Ñ–∞ –≤—ã–∑–æ–≤–æ–≤

```bash
./megacallgraph ./src --dot callgraph.dot
```

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å `callgraph.dot`.
–ß—Ç–æ–±—ã –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å:

```bash
dot -Tsvg callgraph.dot -o callgraph.svg
```

---

## 6. –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä

–î–æ–ø—É—Å—Ç–∏–º, —É –≤–∞—Å –µ—Å—Ç—å –∫–æ–¥:

```c
// main.c
#include "math.h"

int main() {
    int x = add(2, 3);
    int y = mul(x, 5);
    return y;
}

// math.c
int add(int a, int b) { return a + b; }
int mul(int a, int b) { return a * b; }
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:

```bash
./megacallgraph ./ --dot graph.dot
dot -Tsvg graph.dot -o graph.svg
```

–í—ã –ø–æ–ª—É—á–∏—Ç–µ –≥—Ä–∞—Ñ:

```
main ‚Üí add
main ‚Üí mul
```

MegaCallGraph –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∂–µ—Ç:

* —Å–∫–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–π,
* —Å–∫–æ–ª—å–∫–æ –≤—ã–∑–æ–≤–æ–≤,
* –µ—Å—Ç—å –ª–∏ ‚Äú–º–µ—Ä—Ç–≤—ã–π –∫–æ–¥‚Äù (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ `sub()` –Ω–∏–≥–¥–µ –Ω–µ –≤—ã–∑–≤–∞–Ω).

---

## 7. –í—ã–≤–æ–¥—ã –ø–æ –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏

* MegaCallGraph = –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∞–Ω–∞–ª–∏–∑–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã C-–ø—Ä–æ–µ–∫—Ç–æ–≤.
* –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ 4 —É—Ä–æ–≤–Ω—è—Ö: –ø—Ä–æ–µ–∫—Ç ‚Üí –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞ ‚Üí –º–æ–¥—É–ª—å ‚Üí —Ñ—É–Ω–∫—Ü–∏—è.
* –°—Ç—Ä–æ–∏—Ç –≥—Ä–∞—Ñ—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (`.dot`) –∏ —Å—á–∏—Ç–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏.
* –£–º–µ–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å –º–µ—Ä—Ç–≤—ã–π –∫–æ–¥ –∏ —Ü–∏–∫–ª—ã.
* –ë–∞–∑–æ–≤—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã: `megacallgraph ‚Üí dot ‚Üí svg`.

---

**–ß–∞—Å—Ç—å 2. –û–ø—Ü–∏–∏ –∑–∞–ø—É—Å–∫–∞ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã**

---

## 1. –û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–∞–Ω–¥—ã

–ë–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å:

```bash
./megacallgraph [–ü–£–¢–¨_–ö_–ü–†–û–ï–ö–¢–£] [–û–ü–¶–ò–ò]
```

* **`–ü–£–¢–¨_–ö_–ü–†–û–ï–ö–¢–£`** ‚Äî –∫–æ—Ä–Ω–µ–≤–∞—è –ø–∞–ø–∫–∞, –≥–¥–µ –∏—â—É—Ç—Å—è `*.c` –∏ `*.h`.
* **–û–ü–¶–ò–ò** ‚Äî –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –¥–µ–ª–∞—Ç—å: —Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ, –∏—Å–∫–∞—Ç—å ‚Äú–º–µ—Ä—Ç–≤—ã–π –∫–æ–¥‚Äù, —Å—á–∏—Ç–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –∏ —Ç.–¥.

–ü—Ä–∏–º–µ—Ä:

```bash
./megacallgraph ./src --dot callgraph.dot --stats
```

---

## 2. –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø—Ü–∏–∏

### üîπ `--dot <file>`

–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≥—Ä–∞—Ñ –≤ —Ñ–æ—Ä–º–∞—Ç–µ DOT.

* –ú–æ–∂–Ω–æ —Å—Ç—Ä–æ–∏—Ç—å:

  * `callgraph.dot` ‚Üí –≥—Ä–∞—Ñ –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π,
  * `include.dot` ‚Üí –≥—Ä–∞—Ñ –ø–æ–¥–∫–ª—é—á–∞–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤,
  * `full.dot` ‚Üí –ø–æ–ª–Ω—ã–π –≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

–ü—Ä–∏–º–µ—Ä:

```bash
./megacallgraph ./src --dot callgraph.dot
dot -Tsvg callgraph.dot -o callgraph.svg
```

---

### üîπ `--stats`

–í—ã–≤–æ–¥–∏—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –ø—Ä–æ–µ–∫—Ç—É:

* LOC (—Å—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞),
* –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ—É–Ω–∫—Ü–∏–π –∏ —Ñ–∞–π–ª–æ–≤,
* Tangle% (–¥–æ–ª—è —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö —Å–≤—è–∑–µ–π),
* Violations% (–ø—Ä–æ—Ü–µ–Ω—Ç –Ω–∞—Ä—É—à–µ–Ω–∏–π).

–ü—Ä–∏–º–µ—Ä:

```bash
./megacallgraph ./src --stats
```

–í—ã–≤–æ–¥:

```
Files: 45
Functions: 320
LOC_total: 12,540
Tangle%: 14.3
Violations%: 8.6
```

---

### üîπ `--deadcode`

–ù–∞—Ö–æ–¥–∏—Ç —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ:

* –Ω–∏–≥–¥–µ –Ω–µ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è,
* –Ω–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ API (—Ç.–µ. –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ).

–ü—Ä–∏–º–µ—Ä:

```bash
./megacallgraph ./src --deadcode
```

–í—ã–≤–æ–¥:

```
Dead functions:
  - util_cleanup() in util.c
  - parse_debug() in parse.c
```

---

### üîπ `--thresholds <file>`

–ó–∞–¥–∞—ë—Ç –ø–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –º–µ—Ç—Ä–∏–∫.
–ù–∞–ø—Ä–∏–º–µ—Ä, —Ñ–∞–π–ª `thresholds.json`:

```json
{
  "function_loc": 80,
  "tangle_percent": 10,
  "violations_percent": 5
}
```

–ï—Å–ª–∏ –∫–∞–∫–æ–π-—Ç–æ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ø–æ—Ä–æ–≥, –æ–Ω –±—É–¥–µ—Ç –æ—Ç–º–µ—á–µ–Ω –≤ `.dot` **–∫—Ä–∞—Å–Ω—ã–º —Ü–≤–µ—Ç–æ–º**.

–ü—Ä–∏–º–µ—Ä:

```bash
./megacallgraph ./src --dot callgraph.dot --thresholds thresholds.json
```

---

### üîπ `--export-json <file>`

–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.
–ü–æ–ª–µ–∑–Ω–æ –¥–ª—è CI/CD –∏–ª–∏ –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ Python-—Å–∫—Ä–∏–ø—Ç–∞–º–∏.

–ü—Ä–∏–º–µ—Ä:

```bash
./megacallgraph ./src --export-json report.json
```

–§–æ—Ä–º–∞—Ç:

```json
{
  "project": { "files": 45, "functions": 320, "loc": 12540 },
  "metrics": { "tangle_percent": 14.3, "violations_percent": 8.6 },
  "deadcode": ["util_cleanup", "parse_debug"]
}
```

---

### üîπ `--filter <regexp>`

–§–∏–ª—å—Ç—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –∏–ª–∏ —Ñ–∞–π–ª—ã.
–ú–æ–∂–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞.

–ü—Ä–∏–º–µ—Ä:

```bash
./megacallgraph ./src --filter "parse_.*"
```

–≠—Ç–æ –ø–æ—Å—Ç—Ä–æ–∏—Ç –≥—Ä–∞—Ñ **—Ç–æ–ª—å–∫–æ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π, –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö—Å—è –Ω–∞ `parse_`**.

---

### üîπ `--include-graph`

–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç **–≥—Ä–∞—Ñ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤** (—Ñ–∞–π–ª—ã `.h` –∏ –∏—Ö —Å–≤—è–∑–∏).
–û—á–µ–Ω—å –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ ‚Äú–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø–æ include‚Äù.

–ü—Ä–∏–º–µ—Ä:

```bash
./megacallgraph ./src --include-graph include.dot
dot -Tsvg include.dot -o include.svg
```

---

### üîπ `--callgraph`

–Ø–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ —Å—Ç—Ä–æ–∏–º –≥—Ä–∞—Ñ –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π.

–ü—Ä–∏–º–µ—Ä:

```bash
./megacallgraph ./src --callgraph callgraph.dot
```

---

### üîπ `--full`

–°—Ç—Ä–æ–∏—Ç –ø–æ–ª–Ω—ã–π –≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π: —Ñ–∞–π–ª—ã, —Ñ—É–Ω–∫—Ü–∏–∏, include, –≤—ã–∑–æ–≤—ã.

–ü—Ä–∏–º–µ—Ä:

```bash
./megacallgraph ./src --full full.dot
```

---

### üîπ `--summary`

–í—ã–≤–æ–¥–∏—Ç **—Ç–æ–ª—å–∫–æ –∏—Ç–æ–≥–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏** –ø—Ä–æ–µ–∫—Ç–∞, –±–µ–∑ –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π.

–ü—Ä–∏–º–µ—Ä:

```bash
./megacallgraph ./src --summary
```

–í—ã–≤–æ–¥:

```
LOC_total: 12540, Files: 45, Functions: 320, Tangle%: 14.3, Violations%: 8.6
```

---

### üîπ `--verbose`

–í–∫–ª—é—á–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–π —Ä–µ–∂–∏–º ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–∏–µ —Ñ–∞–π–ª—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è, –∫–∞–∫–∏–µ –≤—ã–∑–æ–≤—ã –Ω–∞–π–¥–µ–Ω—ã, –∫–∞–∫–∏–µ —Ü–∏–∫–ª—ã –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã.

–ü—Ä–∏–º–µ—Ä:

```bash
./megacallgraph ./src --dot callgraph.dot --verbose
```

---

### üîπ `--help`

–í—ã–≤–æ–¥–∏—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ–ø—Ü–∏–π.

---

## 3. –ö–æ–º–±–∏–Ω–∞—Ü–∏–∏ –æ–ø—Ü–∏–π

### üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ + DOT

```bash
./megacallgraph ./src --stats --dot callgraph.dot
```

---

### üßπ –ü–æ–∏—Å–∫ –º–µ—Ä—Ç–≤–æ–≥–æ –∫–æ–¥–∞ + –≥—Ä–∞—Ñ

```bash
./megacallgraph ./src --deadcode --dot callgraph.dot
```

---

### üö¶ –ü–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

```bash
./megacallgraph ./src --thresholds thresholds.json --dot callgraph.dot
```

---

### üìÇ –ê–Ω–∞–ª–∏–∑ –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã

(–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–ª—å–∫–æ `src/parse`)

```bash
./megacallgraph ./src/parse --dot parse.dot
```

---

### üî¨ –¢–æ—á–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å —Ñ–∏–ª—å—Ç—Ä–æ–º

```bash
./megacallgraph ./src --filter "mcg_.*" --dot mcg.dot
```

---

## 4. –ü—Ä–∞–∫—Ç–∏–∫–∞: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è CallGraph

```bash
./megacallgraph ./src --callgraph callgraph.dot --stats --deadcode
dot -Tsvg callgraph.dot -o callgraph.svg
```

* –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≥—Ä–∞—Ñ –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π.
* –°—á–∏—Ç–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É.
* –í—ã–≤–æ–¥–∏—Ç —Å–ø–∏—Å–æ–∫ ‚Äú–º–µ—Ä—Ç–≤—ã—Ö‚Äù —Ñ—É–Ω–∫—Ü–∏–π.
* –°–æ–∑–¥–∞—ë—Ç –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é `callgraph.svg`.

---

## 5. –°–æ–≤–µ—Ç—ã –ø–æ —Ä–∞–±–æ—Ç–µ —Å –æ–ø—Ü–∏—è–º–∏

* –î–ª—è **–±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤** –ª—É—á—à–µ —Å—Ä–∞–∑—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `--export-json`, –∏–Ω–∞—á–µ `.dot` –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º —Ç—è–∂—ë–ª—ã–º.
* –î–ª—è **CI/CD** ‚Äî –ø–æ–ª–µ–∑–Ω–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è:

  ```bash
  ./megacallgraph ./src --stats --deadcode --export-json report.json
  ```
* –ï—Å–ª–∏ –Ω—É–∂–µ–Ω **—Ç–æ–ª—å–∫–æ include-–≥—Ä–∞—Ñ** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--include-graph`.
* –î–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è ‚Äú—Ç—è–∂—ë–ª—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π‚Äù ‚Üí –Ω–∞—Å—Ç—Ä–æ–π `thresholds.json` –∏ —Å–º–æ—Ç—Ä–∏ `.dot` —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π.

---

## 6. –í—ã–≤–æ–¥—ã –ø–æ –≤—Ç–æ—Ä–æ–π —á–∞—Å—Ç–∏

* –û–ø—Ü–∏–∏ MegaCallGraph –ø–æ–∑–≤–æ–ª—è—é—Ç —Å—Ç—Ä–æ–∏—Ç—å —Ä–∞–∑–Ω—ã–µ –≤–∏–¥—ã –≥—Ä–∞—Ñ–æ–≤: **–≤—ã–∑–æ–≤—ã, include, –ø–æ–ª–Ω—ã–π –≥—Ä–∞—Ñ**.
* –ú–æ–∂–Ω–æ —Å–æ–±–∏—Ä–∞—Ç—å **–º–µ—Ç—Ä–∏–∫–∏, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ JSON-–æ—Ç—á—ë—Ç—ã**.
* –ï—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è **—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏** –∏ **–ø–æ—Ä–æ–≥–æ–≤**.
* –ì–∏–±–∫–∏–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –æ–ø—Ü–∏–π –¥–µ–ª–∞—é—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–æ–ª–µ–∑–Ω—ã–º –∏ –¥–ª—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–æ–≤, –∏ –¥–ª—è CI/CD.

---

**–ß–∞—Å—Ç—å 3. –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**

---

–í —ç—Ç–æ–π —á–∞—Å—Ç–∏ –º—ã –ø–æ–¥—Ä–æ–±–Ω–æ —Ä–∞–∑–±–µ—Ä—ë–º, **–∫–∞–∫ —á–∏—Ç–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã MegaCallGraph**, —á—Ç–æ –æ–∑–Ω–∞—á–∞—é—Ç —É–∑–ª—ã, —Ä—ë–±—Ä–∞ –∏ –º–µ—Ç—Ä–∏–∫–∏ –≤ `.dot`-—Ñ–∞–π–ª–∞—Ö, –∞ —Ç–∞–∫–∂–µ –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π.

---

## 1. –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω `.dot`-—Ñ–∞–π–ª

–§–∞–π–ª `.dot` ‚Äî —ç—Ç–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∞, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ SVG/PNG –ø—Ä–∏ –ø–æ–º–æ—â–∏ Graphviz.

–ü—Ä–∏–º–µ—Ä —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞:

```dot
digraph CallGraph {
    rankdir = LR;
    node [shape=box, style="rounded,filled", fontname="Inter"];

    main [label="main()"];
    parse [label="parse_file()"];
    build [label="mcg_build_callgraph()"];

    main -> parse;
    parse -> build;
}
```

* **–£–∑–ª—ã (nodes)** ‚Äî —Ñ—É–Ω–∫—Ü–∏–∏, —Ñ–∞–π–ª—ã –∏–ª–∏ –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã.
* **–†—ë–±—Ä–∞ (edges)** ‚Äî –≤—ã–∑–æ–≤—ã –∏–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (`A ‚Üí B`).
* **–ê—Ç—Ä–∏–±—É—Ç—ã** (`color`, `fillcolor`, `tooltip`) –∑–∞–¥–∞—é—Ç –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ.

---

## 2. –ß—Ç–æ –æ–∑–Ω–∞—á–∞—é—Ç —É–∑–ª—ã

MegaCallGraph –≤—ã–¥–µ–ª—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∏–ø–æ–≤ —É–∑–ª–æ–≤:

* **–§—É–Ω–∫—Ü–∏–∏** ‚Üí –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∏ (`parse_file()`, `main()`).
* **–§–∞–π–ª—ã (–º–æ–¥—É–ª–∏)** ‚Üí –∫–ª–∞—Å—Ç–µ—Ä—ã —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏.
* **–ü–æ–¥—Å–∏—Å—Ç–µ–º—ã** ‚Üí –æ—Ç–¥–µ–ª—å–Ω—ã–µ subgraph-–∫–ª–∞—Å—Ç–µ—Ä—ã.

–ü—Ä–∏–º–µ—Ä:

```
subgraph cluster_parse {
    label = "parse.c";
    parse_file;
    parse_token;
}
```

–≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏ `parse_file` –∏ `parse_token` –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –º–æ–¥—É–ª—é `parse.c`.

---

## 3. –ß—Ç–æ –æ–∑–Ω–∞—á–∞—é—Ç —Ä—ë–±—Ä–∞

* **A ‚Üí B** = —Ñ—É–Ω–∫—Ü–∏—è `A` –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é `B`.
* **–¶–≤–µ—Ç —Ä—ë–±–µ—Ä** –æ—Ç—Ä–∞–∂–∞–µ—Ç –∏—Ö —Å—Ç–∞—Ç—É—Å:

  * —Å–µ—Ä—ã–π ‚Üí –æ–±—ã—á–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å,
  * –∫—Ä–∞—Å–Ω—ã–π ‚Üí —Å–≤—è–∑—å, —É—á–∞—Å—Ç–≤—É—é—â–∞—è –≤ —Ü–∏–∫–ª–µ (**tangle**),
  * –ø—É–Ω–∫—Ç–∏—Ä ‚Üí ‚Äú—Å–ª–∞–±–∞—è‚Äù —Å–≤—è–∑—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ—Å–≤–µ–Ω–Ω—ã–π –≤—ã–∑–æ–≤).

---

## 4. –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞

–¢–µ–ø–µ—Ä—å —Ä–∞–∑–±–µ—Ä—ë–º –∫–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ MegaCallGraph —Å—á–∏—Ç–∞–µ—Ç –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω—è—Ö.

---

### üîπ LOC\_total

**Lines of Code** (—Å—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞ –±–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∏ –ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫).

* –ù–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ ‚Üí —Å—É–º–º–∞—Ä–Ω—ã–µ LOC.
* –ù–∞ —É—Ä–æ–≤–Ω–µ –º–æ–¥—É–ª—è ‚Üí LOC –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞.
* –ù–∞ —É—Ä–æ–≤–Ω–µ —Ñ—É–Ω–∫—Ü–∏–∏ ‚Üí –¥–ª–∏–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏.

üìå –í–∞–∂–Ω–æ: —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (>80 LOC) —á–∞—Å—Ç–æ –Ω–∞—Ä—É—à–∞—é—Ç –ø—Ä–∏–Ω—Ü–∏–ø SRP (Single Responsibility Principle).

---

### üîπ Files / Functions

–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤ –∏ —Ñ—É–Ω–∫—Ü–∏–π.

* –ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏–π –≤ —Ñ–∞–π–ª–µ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ (>30) ‚Üí –≤–æ–∑–º–æ–∂–Ω–æ, –º–æ–¥—É–ª—å –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω.
* –ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏–π –º–∞–ª–æ, –Ω–æ —Ñ–∞–π–ª –±–æ–ª—å—à–æ–π ‚Üí –ø–æ–¥–æ–∑—Ä–µ–Ω–∏–µ –Ω–∞ ‚Äú–±–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é‚Äù.

---

### üîπ Tangle%

**–î–æ–ª—è –∑–∞–ø—É—Ç–∞–Ω–Ω—ã—Ö —Å–≤—è–∑–µ–π**.

–§–æ—Ä–º—É–ª–∞:

```
Tangle% = (edges_in_cycles / edges_total) * 100
```

* **edges\_in\_cycles** = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä—ë–±–µ—Ä, —É—á–∞—Å—Ç–≤—É—é—â–∏—Ö –≤ —Ü–∏–∫–ª–∞—Ö.
* **edges\_total** = –æ–±—â–µ–µ —á–∏—Å–ª–æ —Ä—ë–±–µ—Ä.

üìå –ï—Å–ª–∏ Tangle% > 10% ‚Üí –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∫–ª–æ–Ω–Ω–∞ –∫ —Ü–∏–∫–ª–∞–º.
üìå –ï—Å–ª–∏ Tangle% > 20% ‚Üí —Å–∏—Å—Ç–µ–º–∞ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞ (–º–∞–ª–µ–π—à–µ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ç—è–Ω–µ—Ç –∑–∞ —Å–æ–±–æ–π –≤—Å—ë).

---

### üîπ Violations%

–ü—Ä–æ—Ü–µ–Ω—Ç –Ω–∞—Ä—É—à–µ–Ω–∏–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª.

–ü—Ä–∏–º–µ—Ä—ã –Ω–∞—Ä—É—à–µ–Ω–∏–π:

* –º–æ–¥—É–ª—å –≤—ã–∑—ã–≤–∞–µ—Ç –ø—Ä–∏–≤–∞—Ç–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –¥—Ä—É–≥–æ–≥–æ –º–æ–¥—É–ª—è,
* —Ñ–∞–π–ª –≤ –Ω–∏–∂–Ω–µ–º —É—Ä–æ–≤–Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç –≤–µ—Ä—Ö–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `core.c` —Ç—è–Ω–µ—Ç `ui.c`).

–§–æ—Ä–º—É–ª–∞:

```
Violations% = (violations / edges_total) * 100
```

üìå –•–æ—Ä–æ—à–∏–π —É—Ä–æ–≤–µ–Ω—å: < 5%.
üìå –ü–ª–æ—Ö–æ: > 15%.

---

### üîπ Coupling (—Å–≤—è–∑–Ω–æ—Å—Ç—å)

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –Ω–∞—Å–∫–æ–ª—å–∫–æ –º–æ–¥—É–ª—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥—Ä—É–≥–∏—Ö.

* **–í—ã—Å–æ–∫–æ–µ coupling** ‚Üí –º–æ–¥—É–ª—å —Ç—Ä—É–¥–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.
* **–ù–∏–∑–∫–æ–µ coupling** ‚Üí –º–æ–¥—É–ª—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω.

–ü—Ä–∏–º–µ—Ä:

* `core.c` –∑–∞–≤–∏—Å–∏—Ç –æ—Ç 8 –¥—Ä—É–≥–∏—Ö —Ñ–∞–π–ª–æ–≤ ‚Üí coupling –≤—ã—Å–æ–∫–∏–π.
* `util.c` –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –Ω–∏ –æ—Ç –∫–æ–≥–æ ‚Üí coupling –Ω–∏–∑–∫–∏–π.

---

### üîπ Cohesion (—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å)

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –Ω–∞—Å–∫–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏ –º–æ–¥—É–ª—è —Ä–∞–±–æ—Ç–∞—é—Ç ‚Äú–Ω–∞ –æ–¥–Ω—É –∑–∞–¥–∞—á—É‚Äù.

* **–í—ã—Å–æ–∫–∞—è cohesion** ‚Üí –º–æ–¥—É–ª—å –ª–æ–≥–∏—á–µ—Å–∫–∏ —Ü–µ–ª–æ—Å—Ç–Ω—ã–π.
* **–ù–∏–∑–∫–∞—è cohesion** ‚Üí –≤ –º–æ–¥—É–ª–µ ‚Äú—Å–≤–∞–ª–∫–∞ –≤—Å–µ–≥–æ –ø–æ–¥—Ä—è–¥‚Äù.

üìå MegaCallGraph –≤—ã—á–∏—Å–ª—è–µ—Ç cohesion –∫–∞–∫ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ **–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –≤—ã–∑–æ–≤–æ–≤** –∫ **–æ–±—â–µ–º—É —á–∏—Å–ª—É –≤—ã–∑–æ–≤–æ–≤**.

---

### üîπ Dead Code

–§—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∏–≥–¥–µ –Ω–µ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –∏ –Ω–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è.

* –ß–∞—Å—Ç–æ —ç—Ç–æ –∑–∞–±—ã—Ç—ã–µ –∑–∞–≥–æ—Ç–æ–≤–∫–∏ –∏–ª–∏ –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏.
* –í–∏–∑—É–∞–ª—å–Ω–æ —Ç–∞–∫–∏–µ —É–∑–ª—ã –ø–æ–¥—Å–≤–µ—á–∏–≤–∞—é—Ç—Å—è **—Å–∏–Ω–∏–º** –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–æ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –æ—Ç—á—ë—Ç–µ.

üìå Dead code = —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥.

---

## 5. –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞

MegaCallGraph –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ü–≤–µ—Ç–∞ –¥–ª—è –ø–æ–¥—Å–≤–µ—Ç–∫–∏ –º–µ—Ç—Ä–∏–∫:

* üü¢ –ó–µ–ª—ë–Ω—ã–π ‚Üí –≤—Å—ë –≤ –Ω–æ—Ä–º–µ.
* üü° –ñ—ë–ª—Ç—ã–π ‚Üí –≤—ã—à–µ –Ω–æ—Ä–º—ã (warning).
* üî¥ –ö—Ä–∞—Å–Ω—ã–π ‚Üí –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ø–æ—Ä–æ–≥–∞ (problem).

–ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –∑–∞–¥–∞—Ç—å –≤ `thresholds.json`:

```json
{ "function_loc": 80 }
```

—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª–∏–Ω–Ω–µ–µ 80 —Å—Ç—Ä–æ–∫ –±—É–¥—É—Ç –∫—Ä–∞—Å–Ω—ã–º–∏.

---

## 6. –ö–∞–∫ —á–∏—Ç–∞—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é

–î–æ–ø—É—Å—Ç–∏–º, —É –≤–∞—Å –µ—Å—Ç—å –≥—Ä–∞—Ñ:

```
main ‚Üí parse_file ‚Üí mcg_build_callgraph
          ‚Üò util_log
```

* –£–∑–µ–ª `mcg_build_callgraph` –ø–æ–¥—Å–≤–µ—á–µ–Ω –∫—Ä–∞—Å–Ω—ã–º ‚Üí —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è.
* –£–∑–µ–ª `util_log` —Å–∏–Ω–∏–π ‚Üí dead code (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∑–¥–µ—Å—å, –Ω–æ –Ω–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è).
* –ú–µ–∂–¥—É `parse_file` –∏ `mcg_build_callgraph` –∫—Ä–∞—Å–Ω–æ–µ —Ä–µ–±—Ä–æ ‚Üí —Ü–∏–∫–ª (tangle).

üìå –¢–∞–∫–æ–π –≥—Ä–∞—Ñ —Å—Ä–∞–∑—É –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:

* —É–∑–∫–∏–µ –º–µ—Å—Ç–∞ (–¥–ª–∏–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏),
* –ª–∏—à–Ω–∏–π –∫–æ–¥,
* –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.

---

## 7. –°–æ–≤–µ—Ç—ã –ø–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏

* **–°–Ω–∞—á–∞–ª–∞ —Å–º–æ—Ç—Ä–∏ –Ω–∞ –ø—Ä–æ–µ–∫—Ç–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å** ‚Üí Tangle% –∏ Violations%.
* **–ó–∞—Ç–µ–º –Ω–∞ –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã** ‚Üí –∫–∞–∫–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Ç—è–Ω—É—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞.
* **–ü–æ—Ç–æ–º –Ω–∞ –º–æ–¥—É–ª–∏** ‚Üí –µ—Å—Ç—å –ª–∏ –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã.
* **–ò —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–º —Ñ—É–Ω–∫—Ü–∏–∏** ‚Üí dead code, –¥–ª–∏–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏.

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç **–Ω–µ —É—Ç–æ–Ω—É—Ç—å –≤ –¥–µ—Ç–∞–ª—è—Ö**, –∞ –¥–≤–∏–≥–∞—Ç—å—Å—è —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑.

---

## 8. –ü—Ä–∏–º–µ—Ä –æ—Ç—á—ë—Ç–∞

MegaCallGraph –º–æ–∂–µ—Ç –≤—ã–¥–∞—Ç—å:

```
Project Metrics:
  LOC_total: 12,540
  Files: 45
  Functions: 320
  Tangle%: 14.3 (‚ö† warning)
  Violations%: 8.6 (‚ö† warning)

Subsystem: parse/
  Files: 5, Functions: 72
  Tangle%: 25.0 (‚ùå problem)

Module: parse.c
  LOC: 850, Functions: 28
  Dead: parse_debug, parse_trace
  Worst function: mcg_build_callgraph (LOC=210, Coupling=8)

Function: mcg_build_callgraph
  LOC: 210
  Called by: parse_file
  Calls: util_log, util_warn, mcg_add_edge
```

üìå –ò–∑ —ç—Ç–æ–≥–æ –æ—Ç—á—ë—Ç–∞ –≤–∏–¥–Ω–æ, —á—Ç–æ:

* –ø—Ä–æ–µ–∫—Ç –≤ —Ü–µ–ª–æ–º ‚Äú—Å—Ä–µ–¥–Ω–∏–π‚Äù (Tangle% 14.3),
* –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞ `parse/` —Å–∏–ª—å–Ω–æ –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–∞ (25%),
* –º–æ–¥—É–ª—å `parse.c` —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π,
* —Ñ—É–Ω–∫—Ü–∏—è `mcg_build_callgraph` –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ.

---

## 9. –í—ã–≤–æ–¥—ã –ø–æ —Ç—Ä–µ—Ç—å–µ–π —á–∞—Å—Ç–∏

* `.dot` = –≤–∏–∑—É–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
* –£–∑–ª—ã = —Ñ—É–Ω–∫—Ü–∏–∏/—Ñ–∞–π–ª—ã, —Ä—ë–±—Ä–∞ = –≤—ã–∑–æ–≤—ã.
* –í–∞–∂–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏: **LOC, Tangle%, Violations%, Coupling, Cohesion, Dead Code**.
* –¶–≤–µ—Ç–∞ –ø–æ–º–æ–≥–∞—é—Ç –±—ã—Å—Ç—Ä–æ –ø–æ–Ω—è—Ç—å, –≥–¥–µ –ø—Ä–æ–±–ª–µ–º–∞.
* –ß–∏—Ç–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ª—É—á—à–µ —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑: –ø—Ä–æ–µ–∫—Ç ‚Üí –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞ ‚Üí –º–æ–¥—É–ª—å ‚Üí —Ñ—É–Ω–∫—Ü–∏—è.

---

**–ß–∞—Å—Ç—å 4. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ**

---

–í —ç—Ç–æ–π –∑–∞–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ–π —á–∞—Å—Ç–∏ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å MegaCallGraph –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ: –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ –ø—Ä–æ—Ü–µ—Å—Å—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, CI/CD, –∞ —Ç–∞–∫–∂–µ –∫–∞–∫ —Ä–∞—Å—à–∏—Ä—è—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏ –ø—Ä–∏–º–µ–Ω—è—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫.

---

## 1. –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ MegaCallGraph

–ß—Ç–æ–±—ã –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –∞–Ω–∞–ª–∏–∑ —Å–∞–º–æ–≥–æ MegaCallGraph (—Å–∞–º–æ–∞–Ω–∞–ª–∏–∑).

### –®–∞–≥ 1. –ó–∞–ø—É—Å–∫ –∞–Ω–∞–ª–∏–∑–∞

```bash
./megacallgraph ./src --callgraph callgraph.dot --stats --deadcode
dot -Tsvg callgraph.dot -o callgraph.svg
```

### –®–∞–≥ 2. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

* **LOC\_total**: \~7,500
* **–§–∞–π–ª—ã**: 28
* **–§—É–Ω–∫—Ü–∏–∏**: 210
* **Tangle%**: 11%
* **Violations%**: 6%
* **Dead code**: 12 —Ñ—É–Ω–∫—Ü–∏–π (—Å—Ç–∞—Ä—ã–µ —É—Ç–∏–ª–∏—Ç—ã `debug_*`)

### –®–∞–≥ 3. –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è

* –ü–æ–¥—Å–∏—Å—Ç–µ–º–∞ `parse/` –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–∞ ‚Üí —Å–æ–¥–µ—Ä–∂–∏—Ç 70+ —Ñ—É–Ω–∫—Ü–∏–π, –≤—ã—Å–æ–∫–∏–π coupling.
* –ú–æ–¥—É–ª—å `mcg_build_callgraph()` —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π (200+ LOC).
* –ù–∞–π–¥–µ–Ω—ã —Ü–∏–∫–ª—ã –º–µ–∂–¥—É `core.c` –∏ `parse.c`.

üìå –í—ã–≤–æ–¥: –Ω—É–∂–Ω–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å `parse/`, —Ä–∞–∑–±–∏–≤ –µ–≥–æ –Ω–∞ –ø–æ–¥–º–æ–¥—É–ª–∏.

---

## 2. –í—ã—è–≤–ª–µ–Ω–∏–µ —É–∑–∫–∏—Ö –º–µ—Å—Ç

MegaCallGraph –ø–æ–º–æ–≥–∞–µ—Ç –±—ã—Å—Ç—Ä–æ –Ω–∞–π—Ç–∏ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –∑–æ–Ω—ã:

### üîπ –°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏

* –ü–æ –º–µ—Ç—Ä–∏–∫–µ `LOC` ‚Üí –≤—ã–¥–µ–ª—è—é—Ç—Å—è –∫—Ä–∞—Å–Ω—ã–º.
* –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: **—Ä–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –ø–æ–¥—Ñ—É–Ω–∫—Ü–∏–∏**.

### üîπ –°–∏–ª—å–Ω–æ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏

* –í—ã—Å–æ–∫–æ–µ `coupling` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `util.c` –∑–∞–≤–∏—Å–∏—Ç –æ—Ç 10 —Ñ–∞–π–ª–æ–≤).
* –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –≤—ã–¥–µ–ª–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (`util_api.h`), —Å–∫—Ä—ã—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é.

### üîπ Dead code

* –§—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è.
* –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: —É–¥–∞–ª–∏—Ç—å –∏–ª–∏ –≤—ã–Ω–µ—Å—Ç–∏ –≤ —Ç–µ—Å—Ç–æ–≤—ã–π –∫–æ–¥.

---

## 3. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ—Ç—á—ë—Ç–æ–≤ –¥–ª—è –∫–æ–º–∞–Ω–¥—ã

MegaCallGraph –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ —á–∞—Å—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ä–µ–≤—å—é.

### –í–∞—Ä–∏–∞–Ω—Ç 1. –í–∏–∑—É–∞–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç

* –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å `.dot` ‚Üí `svg`.
* –†–∞–∑–¥–µ–ª–∏—Ç—å –≥—Ä–∞—Ñ –ø–æ –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞–º.
* –ü–æ–∫–∞–∑–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä—É/–∫–æ–º–∞–Ω–¥–µ.

### –í–∞—Ä–∏–∞–Ω—Ç 2. JSON + CI/CD

* –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `--export-json report.json`.
* –ü–æ–¥–∫–ª—é—á–∏—Ç—å Python-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.
* –°—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º –±–∏–ª–¥–æ–º.

üìå –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–≤–µ—Ä–∫–∏:

```bash
if report["metrics"]["tangle_percent"] > 15:
    print("FAIL: Architecture too tangled")
    exit(1)
```

---

## 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ CI/CD

MegaCallGraph –º–æ–∂–Ω–æ –≤—Å—Ç—Ä–æ–∏—Ç—å –≤ GitHub Actions, GitLab CI, Jenkins.

–ü—Ä–∏–º–µ—Ä –¥–ª—è GitHub Actions (`.github/workflows/ci.yml`):

```yaml
jobs:
  analyze:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - run: make
      - run: ./megacallgraph ./src --export-json report.json
      - run: python3 scripts/check_metrics.py report.json
```

`check_metrics.py`:

```python
import json, sys
report = json.load(open("report.json"))
if report["metrics"]["tangle_percent"] > 10:
    print("‚ùå Tangle too high")
    sys.exit(1)
print("‚úÖ Architecture OK")
```

---

## 5. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞

MegaCallGraph –º–æ–∂–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–¥ —Å–≤–æ–∏ –Ω—É–∂–¥—ã.

### üîπ –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

* **Cyclomatic Complexity (CC)** ‚Üí –∏–∑–º–µ—Ä—è–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ —á–∏—Å–ª—É –≤–µ—Ç–≤–ª–µ–Ω–∏–π.
* **Fan-in / Fan-out** ‚Üí —Å–∫–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–π –≤—ã–∑—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω–∞—è –∏ —Å–∫–æ–ª—å–∫–æ –µ—ë –≤—ã–∑—ã–≤–∞—é—Ç.
* **Depth** ‚Üí –≥–ª—É–±–∏–Ω–∞ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –≥—Ä–∞—Ñ–µ.

### üîπ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤

–•–æ—Ç—è MegaCallGraph –∑–∞—Ç–æ—á–µ–Ω –ø–æ–¥ C, –º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –ø–∞—Ä—Å–µ—Ä –¥–ª—è C++ –∏–ª–∏ Rust.

### üîπ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º

–í–º–µ—Å—Ç–æ `.dot` –º–æ–∂–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ **Web-–¥–∞—à–±–æ—Ä–¥ (D3.js)**.

---

## 6. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫

–ß—Ç–æ–±—ã –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ —É–ª—É—á—à–∞–ª–∏—Å—å, —Å—Ç–æ–∏—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å —Ç–∞–∫–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏:

* **–°–Ω–∏–∂–µ–Ω–∏–µ Tangle%**
  ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Dependency Inversion (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –≤–º–µ—Å—Ç–æ –ø—Ä—è–º—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π).

* **–°–Ω–∏–∂–µ–Ω–∏–µ Violations%**
  ‚Üí –≤—ã—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —É—Ä–æ–≤–Ω–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (core ‚Üí middle ‚Üí UI) –∏ –∑–∞–ø—Ä–µ—â–∞—Ç—å –æ–±—Ä–∞—Ç–Ω—ã–µ –≤—ã–∑–æ–≤—ã.

* **–ö–æ–Ω—Ç—Ä–æ–ª—å LOC —Ñ—É–Ω–∫—Ü–∏–π**
  ‚Üí –∫–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è ‚â§ 80 —Å—Ç—Ä–æ–∫.

* **Dead code policy**
  ‚Üí —Ä–µ–≥—É–ª—è—Ä–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.

* **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**
  ‚Üí –æ–¥–∏–Ω —Ñ–∞–π–ª = –æ–¥–Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∞—è –∑–∞–¥–∞—á–∞, ‚â§ 20 —Ñ—É–Ω–∫—Ü–∏–π.

---

## 7. –†–µ–∞–ª—å–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π: –∞–Ω–∞–ª–∏–∑ Linux —è–¥—Ä–∞

–ü—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ MegaCallGraph –Ω–∞ —è–¥—Ä–µ Linux (\~60M LOC).

* DOT –ø–æ–ª—É—á–∏—Ç—Å—è –≥–∏–≥–∞–Ω—Ç—Å–∫–∏–º.
* –ù—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `--filter` (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–ª—å–∫–æ `fs/` –∏–ª–∏ `net/`).
* –°–≤–æ–¥–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ ‚Üí —á–µ—Ä–µ–∑ `--stats` –∏ `--export-json`.
* –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è ‚Üí –Ω–µ –≤ –æ–¥–∏–Ω `.svg`, –∞ –≤ —Ä–∞–∑–±–∏–µ–Ω–∏–∏ –Ω–∞ –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã.

üìå –í—ã–≤–æ–¥: MegaCallGraph –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è, –µ—Å–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–¥—Å–∏—Å—Ç–µ–º–Ω—ã–π –∞–Ω–∞–ª–∏–∑.

---

## 8. –§–∏–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É—Ä–æ–≤–Ω–∏ –∞–Ω–∞–ª–∏–∑–∞** (–ø—Ä–æ–µ–∫—Ç ‚Üí –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞ ‚Üí –º–æ–¥—É–ª—å ‚Üí —Ñ—É–Ω–∫—Ü–∏—è).
2. **–°–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ Tangle% –∏ Violations% –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å.**
3. **–ù–µ —Ö—Ä–∞–Ω–∏—Ç—å dead code** ‚Äî –æ–Ω —É—Ö—É–¥—à–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏.
4. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å –≤ CI/CD.**
5. **–ü–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (thresholds.json)** –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏.
6. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –ø–æ—à–∞–≥–æ–≤–æ**: —Å–Ω–∞—á–∞–ª–∞ —Ü–∏–∫–ª—ã, –ø–æ—Ç–æ–º –¥–ª–∏–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏.

---

## 9. –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

MegaCallGraph ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è **–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ C-–ø—Ä–æ–µ–∫—Ç–æ–≤**.
–û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç:

* —É–≤–∏–¥–µ—Ç—å –ø—Ä–æ–µ–∫—Ç –≥–ª–∞–∑–∞–º–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–∞,
* –≤—ã—è–≤–∏—Ç—å —Å–ª–∞–±—ã–µ –º–µ—Å—Ç–∞,
* –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞,
* —É–ª—É—á—à–∏—Ç—å –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å –∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã.

üìå –ï—Å–ª–∏ —Å–ª–µ–¥–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥–∏–∫–µ (–∞–Ω–∞–ª–∏–∑ —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑, –∫–æ–Ω—Ç—Ä–æ–ª—å –º–µ—Ç—Ä–∏–∫, CI/CD), —Ç–æ –º–æ–∂–Ω–æ –¥–æ–≤–µ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç –¥–æ **—É—Ä–æ–≤–Ω—è –∑—Ä–µ–ª–æ—Å—Ç–∏ 5**:

* –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —É—Å—Ç–æ–π—á–∏–≤–∞,
* –ú–µ—Ç—Ä–∏–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—Ç—Å—è,
* Dead code –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç,
* Tangle% –∏ Violations% –º–∏–Ω–∏–º–∞–ª—å–Ω—ã.

---
